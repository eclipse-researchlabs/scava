<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_55) on Mon Jul 21 10:01:04 CEST 2014 -->
<title>Overview (Carrot2 v3.9.3 API Documentation (JavaDoc))</title>
<meta name="date" content="2014-07-21">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Overview (Carrot2 v3.9.3 API Documentation (JavaDoc))";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="deprecated-list.html">Deprecated</a></li>
</ul>
<div class="aboutLanguage"><em><div class='logo'>Carrot<sup>2</sup> v3.9.3 <br>API Documentation</div></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">Carrot<sup>2</sup> v3.9.3 API Documentation</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">
  Carrot<sup>2</sup> is an Open Source Search Results Clustering Engine, which can
  automatically organize small collections of documents, for example search results,
  into thematic categories, <a href="#overview_description">see below for more</a>.</div>
</div>
<p>See: <a href="#overview_description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Carrot<sup>2</sup> Core table, listing packages, and an explanation">
<caption><span>Carrot<sup>2</sup> Core</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/core/package-summary.html">org.carrot2.core</a></td>
<td class="colLast">
<div class="block">
  Definitions of Carrot<sup>2</sup> core interfaces and their implementations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/core/attribute/package-summary.html">org.carrot2.core.attribute</a></td>
<td class="colLast">
<div class="block">
  Attribute annotations for Carrot<sup>2</sup> core interfaces.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Carrot<sup>2</sup> Data Sources table, listing packages, and an explanation">
<caption><span>Carrot<sup>2</sup> Data Sources</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/source/package-summary.html">org.carrot2.source</a></td>
<td class="colLast">
<div class="block">
  Base classes for implementing Carrot<sup>2</sup> document sources.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/source/ambient/package-summary.html">org.carrot2.source.ambient</a></td>
<td class="colLast">
<div class="block">
  Serves documents from the <a href="http://credo.fub.it/ambient/">Ambient</a> test set.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/source/etools/package-summary.html">org.carrot2.source.etools</a></td>
<td class="colLast">
<div class="block">
  Fetches documents from the <a href="http://www.etools.ch">eTools Metasearch Engine</a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/source/google/package-summary.html">org.carrot2.source.google</a></td>
<td class="colLast">
<div class="block">
  Fetches documents from the <a href="http://code.google.com/apis/ajaxsearch/documentation/#fonje">Google JSON Search API</a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/source/idol/package-summary.html">org.carrot2.source.idol</a></td>
<td class="colLast">
<div class="block">
  Fetches documents from an Autonmomy IDOL Search engine with an <a href="http://www.opensearch.org/">OpenSearch</a>-compliant feed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/source/lucene/package-summary.html">org.carrot2.source.lucene</a></td>
<td class="colLast">
<div class="block">
  Fetches documents from a local <a href="http://lucene.apache.org/">Lucene</a> index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/source/microsoft/package-summary.html">org.carrot2.source.microsoft</a></td>
<td class="colLast">
<div class="block">
Fetches documents from the <a href="http://www.bing.com">Bing</a> search engine using its publicly
available API.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/source/opensearch/package-summary.html">org.carrot2.source.opensearch</a></td>
<td class="colLast">
<div class="block">
  Fetches documents from an <a href="http://www.opensearch.org/">OpenSearch</a>-compliant search feed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/source/pubmed/package-summary.html">org.carrot2.source.pubmed</a></td>
<td class="colLast">
<div class="block">
  Fetches documents from the <a href="http://eutils.ncbi.nlm.nih.gov/entrez/query/static/eutils_help.html">PubMed medical abstracts database</a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/source/solr/package-summary.html">org.carrot2.source.solr</a></td>
<td class="colLast">
<div class="block">
  Fetches documents from the <a href="http://lucene.apache.org/solr/">Solr search engine</a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/source/xml/package-summary.html">org.carrot2.source.xml</a></td>
<td class="colLast">
<div class="block">
  Fetches documents from XML streams.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Carrot<sup>2</sup> Clustering Algorithms table, listing packages, and an explanation">
<caption><span>Carrot<sup>2</sup> Clustering Algorithms</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/clustering/kmeans/package-summary.html">org.carrot2.clustering.kmeans</a></td>
<td class="colLast">
<div class="block">
  Implementation of the bisecting k-means clustering algorithm.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/clustering/lingo/package-summary.html">org.carrot2.clustering.lingo</a></td>
<td class="colLast">
<div class="block">
 Implementation of the <a href="http://project.carrot2.org/publications/osinski04-dimensionality.pdf">Lingo clustering algorithm</a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/clustering/stc/package-summary.html">org.carrot2.clustering.stc</a></td>
<td class="colLast">
<div class="block">
 Implementation of the <a href="http://sosp16.cs.washington.edu/homes/etzioni/papers/www8.pdf">STC clustering algorithm</a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/clustering/synthetic/package-summary.html">org.carrot2.clustering.synthetic</a></td>
<td class="colLast">
<div class="block">
  Synthetic clustering algorithms.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Carrot<sup>2</sup> Results post-processing table, listing packages, and an explanation">
<caption><span>Carrot<sup>2</sup> Results post-processing</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/output/metrics/package-summary.html">org.carrot2.output.metrics</a></td>
<td class="colLast">
<div class="block">
  Cluster quality metrics calculation utilities.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Carrot<sup>2</sup> Text preprocessing utilities table, listing packages, and an explanation">
<caption><span>Carrot<sup>2</sup> Text preprocessing utilities</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/text/analysis/package-summary.html">org.carrot2.text.analysis</a></td>
<td class="colLast">
<div class="block">
  Lexical analysis utilities.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/text/clustering/package-summary.html">org.carrot2.text.clustering</a></td>
<td class="colLast">
<div class="block">
  Multilingual clustering utilities.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/text/linguistic/package-summary.html">org.carrot2.text.linguistic</a></td>
<td class="colLast">
<div class="block">
  Shallow linguistic processing utilities.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/text/linguistic/lucene/package-summary.html">org.carrot2.text.linguistic.lucene</a></td>
<td class="colLast">
<div class="block">
  Shallow linguistic processing utilities dependent on Lucene stemmers and analyzers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/text/linguistic/morfologik/package-summary.html">org.carrot2.text.linguistic.morfologik</a></td>
<td class="colLast">
<div class="block">
  Shallow linguistic processing utilities dependent on the Morfologik stemming library.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/text/preprocessing/package-summary.html">org.carrot2.text.preprocessing</a></td>
<td class="colLast">
<div class="block">Contains the unified input preprocessing infrastructure 
    (term indexing, stemming, label discovery).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/text/preprocessing/filter/package-summary.html">org.carrot2.text.preprocessing.filter</a></td>
<td class="colLast">
<div class="block">
  Text feature filtering utilities.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/text/preprocessing/pipeline/package-summary.html">org.carrot2.text.preprocessing.pipeline</a></td>
<td class="colLast">
<div class="block">
  Predefined preprocessing pipeline utilities.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/text/suffixtree/package-summary.html">org.carrot2.text.suffixtree</a></td>
<td class="colLast">
<div class="block">
  Implementation of the suffix tree data structure.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/text/util/package-summary.html">org.carrot2.text.util</a></td>
<td class="colLast">
<div class="block">
  Data structures for text preprocessing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/text/vsm/package-summary.html">org.carrot2.text.vsm</a></td>
<td class="colLast">
<div class="block">
  Vector Space Model utilities.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Carrot<sup>2</sup> Matrix utilities table, listing packages, and an explanation">
<caption><span>Carrot<sup>2</sup> Matrix utilities</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/matrix/package-summary.html">org.carrot2.matrix</a></td>
<td class="colLast">
<div class="block">
  Matrix factorization routines.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/matrix/factorization/package-summary.html">org.carrot2.matrix.factorization</a></td>
<td class="colLast">
<div class="block">
  Matrix factorization implementations.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/matrix/factorization/seeding/package-summary.html">org.carrot2.matrix.factorization.seeding</a></td>
<td class="colLast">
<div class="block">
  Matrix seeding strategies.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Carrot<sup>2</sup> Utility classes table, listing packages, and an explanation">
<caption><span>Carrot<sup>2</sup> Utility classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/util/package-summary.html">org.carrot2.util</a></td>
<td class="colLast">
<div class="block">
  Common utility classes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/util/annotations/package-summary.html">org.carrot2.util.annotations</a></td>
<td class="colLast">
<div class="block">
  Marker annotations.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/util/attribute/package-summary.html">org.carrot2.util.attribute</a></td>
<td class="colLast">
<div class="block">
  Attribute handling utilities.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/util/factory/package-summary.html">org.carrot2.util.factory</a></td>
<td class="colLast">
<div class="block">
  A simple object factory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/util/httpclient/package-summary.html">org.carrot2.util.httpclient</a></td>
<td class="colLast">
<div class="block">
  Apache Commons HTTP client utilities.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/util/pool/package-summary.html">org.carrot2.util.pool</a></td>
<td class="colLast">
<div class="block">
  A very simple unbounded pool implementation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/util/resource/package-summary.html">org.carrot2.util.resource</a></td>
<td class="colLast">
<div class="block">
  Resource location abstraction layer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/util/simplexml/package-summary.html">org.carrot2.util.simplexml</a></td>
<td class="colLast">
<div class="block">
  Utilities for working with the <a href="http://simple.sf.net">Simple XML</a> framework.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/util/tests/package-summary.html">org.carrot2.util.tests</a></td>
<td class="colLast">
<div class="block">
  Unit test utilities and annotations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/carrot2/util/xslt/package-summary.html">org.carrot2.util.xslt</a></td>
<td class="colLast">
<div class="block">
  XSLT handling utilities.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/util/xsltfilter/package-summary.html">org.carrot2.util.xsltfilter</a></td>
<td class="colLast">
<div class="block">
  XSLT processor servlet filter.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Other Packages table, listing packages, and an explanation">
<caption><span>Other Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/carrot2/log4j/package-summary.html">org.carrot2.log4j</a></td>
<td class="colLast">
<div class="block">
  Log4J utilities.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="footer"><a name="overview_description">
<!--   -->
</a>
<div class="subTitle">
<div class="block"><p>
  Carrot<sup>2</sup> is an Open Source Search Results Clustering Engine, which can
  automatically organize small collections of documents, for example search results,
  into thematic categories, <a href="#overview_description">see below for more</a>.
  </p>
<h1>Downloads &amp; more information</h1>
<p>
<a class="download-small" href="http://project.carrot2.org/download-java-api.html">Java API JAR, JavaDocs and example code</a>
<br>
<a class="download-small" href="http://project.carrot2.org/download.html">Other Carrot2 applications</a>
<br>
<a class="view-small" href="http://download.carrot2.org/head/manual/index.html">User and Developer Manual</a>
<br>
<a class="view-small" href="http://download.carrot2.org/head/manual/index.html#section.integration.adding-to-maven-project">Instructions for Maven2 users</a>
<br>
<a class="view-small" href="http://project.carrot2.org">Carrot2 project website</a>
<br>
<a class="view-small" href="http://search.carrot2.org">Carrot2 on-line demo</a>
</p>
<h1>Java API usage examples</h1>
<p>
    You can use Carrot<sup>2</sup> Java API to fetch documents from various sources (public search engines, Lucene, Solr), perform clustering, serialize the results to JSON or XML and many more. Below is some example code for the most common use cases. Please see the <tt>examples/</tt> directory in the <a href="http://project.carrot2.org/download-java-api.html">Java API distribution archive</a> for more examples.
  </p>
<a name="clustering-documents"></a>
<h2>Clustering text documents</h2>
<div xml:base="snippets/clustering-document-list-intro">
<p>
 The easiest way to get started with Carrot2 is to cluster a collection
 of <a href="org/carrot2/core/Document.html" title="class in org.carrot2.core"><code>Document</code></a>s. Each document can consist of:
 </p>
<ul>
<li>document content: a query-in-context snippet, document abstract or full text,</li>
<li>document title: optional, some clustering algorithms give more weight to document titles,</li>
<li>document URL: optional, used by the <a href="org/carrot2/clustering/synthetic/ByUrlClusteringAlgorithm.html" title="class in org.carrot2.clustering.synthetic"><code>ByUrlClusteringAlgorithm</code></a>, 
 ignored by other algorithms.</li>
</ul>
<p>
 To make the example short, the code shown below clusters only 5 documents. Use
 at least 20 to get reasonable clusters. If you have access to the query that generated
 the documents being clustered, you should also provide it to Carrot2 to get better clusters.
 </p>
</div>
<pre class="brush: java">            /* A few example documents, normally you would need at least 20 for reasonable clusters. */
            final String [][] data = new String [] []
            {
                {
                    "http://en.wikipedia.org/wiki/Data_mining",
                    "Data mining - Wikipedia, the free encyclopedia",
                    "Article about knowledge-discovery in databases (KDD), the practice of automatically searching large stores of data for patterns."
                },

                {
                    "http://www.ccsu.edu/datamining/resources.html",
                    "CCSU - Data Mining",
                    "A collection of Data Mining links edited by the Central Connecticut State University ... Graduate Certificate Program. Data Mining Resources. Resources. Groups ..."
                },

                {
                    "http://www.kdnuggets.com/",
                    "KDnuggets: Data Mining, Web Mining, and Knowledge Discovery",
                    "Newsletter on the data mining and knowledge industries, offering information on data mining, knowledge discovery, text mining, and web mining software, courses, jobs, publications, and meetings."
                },

                {
                    "http://en.wikipedia.org/wiki/Data-mining",
                    "Data mining - Wikipedia, the free encyclopedia",
                    "Data mining is considered a subfield within the Computer Science field of knowledge discovery. ... claim to perform \"data mining\" by automating the creation ..."
                },

                {
                    "http://www.anderson.ucla.edu/faculty/jason.frand/teacher/technologies/palace/datamining.htm",
                    "Data Mining: What is Data Mining?",
                    "Outlines what knowledge discovery, the process of analyzing data from different perspectives and summarizing it into useful information, can do and how it works."
                },
            };

            /* Prepare Carrot2 documents */
            final ArrayList&lt;Document&gt; documents = new ArrayList&lt;Document&gt;();
            for (String [] row : data)
            {
                documents.add(new Document(row[1], row[2], row[0]));
            }

            /* A controller to manage the processing pipeline. */
            final Controller controller = ControllerFactory.createSimple();

            /*
             * Perform clustering by topic using the Lingo algorithm. Lingo can 
             * take advantage of the original query, so we provide it along with the documents.
             */
            final ProcessingResult byTopicClusters = controller.process(documents, "data mining",
                LingoClusteringAlgorithm.class);
            final List&lt;Cluster&gt; clustersByTopic = byTopicClusters.getClusters();
            
            /* Perform clustering by domain. In this case query is not useful, hence it is null. */
            final ProcessingResult byDomainClusters = controller.process(documents, null,
                ByUrlClusteringAlgorithm.class);
            final List&lt;Cluster&gt; clustersByDomain = byDomainClusters.getClusters();
</pre>
<a href="https://github.com/carrot2/carrot2/blob/8d24ccff74b0cab7ea4753e24113c566d0eb5e9e/applications/carrot2-examples/examples/org/carrot2/examples/clustering/ClusteringDocumentList.java" target="_blank" class="source-link">Full source code: ClusteringDocumentList.java</a><a name="clustering-from-document-sources"></a>
<h2>Clustering documents from document sources</h2>
<a name="clustering-from-document-sources-with-default-settings"></a>
<h3>With default settings</h3>
<div xml:base="snippets/clustering-data-from-document-sources-simple-intro">
 One common way to use Carrot2 Java API is to fetch a number of documents 
 from some <a href="org/carrot2/core/IDocumentSource.html" title="interface in org.carrot2.core"><code>IDocumentSource</code></a> and cluster them using some 
 <a href="org/carrot2/core/IClusteringAlgorithm.html" title="interface in org.carrot2.core"><code>IClusteringAlgorithm</code></a>. The simplest yet least flexible
 way to do it is to use the <a href="org/carrot2/core/Controller.html#process(java.lang.String, java.lang.Integer, java.lang.Class...)"><code>Controller.process(String, Integer, Class...)</code></a> 
 method from the <a href="org/carrot2/core/Controller.html" title="class in org.carrot2.core"><code>Controller</code></a>. The code shown below retrieves 
 100 search results for query <em>data mining</em> from 
 <a href="org/carrot2/source/etools/EToolsDocumentSource.html" title="class in org.carrot2.source.etools"><code>EToolsDocumentSource</code></a> and clusters them using 
 the <a href="org/carrot2/clustering/lingo/LingoClusteringAlgorithm.html" title="class in org.carrot2.clustering.lingo"><code>LingoClusteringAlgorithm</code></a>.
 </div>
<pre class="brush: java">            /* A controller to manage the processing pipeline. */
            final Controller controller = ControllerFactory.createSimple();

            /* Perform processing */
            final ProcessingResult result = controller.process("data mining", 100,
                EToolsDocumentSource.class, LingoClusteringAlgorithm.class);
    
            /* Documents fetched from the document source, clusters created by Carrot2. */
            final List&lt;Document&gt; documents = result.getDocuments();
            final List&lt;Cluster&gt; clusters = result.getClusters();
</pre>
<a href="https://github.com/carrot2/carrot2/blob/8d24ccff74b0cab7ea4753e24113c566d0eb5e9e/applications/carrot2-examples/examples/org/carrot2/examples/clustering/ClusteringDataFromDocumentSources.java" target="_blank" class="source-link">Full source code: ClusteringDataFromDocumentSources.java</a><a name="clustering-from-document-sources-with-custom-settings"></a>
<h3>With custom settings</h3>
<p>
   
 If your production code needs to fetch documents from popular search engines, 
 it is very important that you generate and use your own API key rather than Carrot2's 
 default one. You can pass the API key along with the query and the requested
 number of results in an attribute map. Carrot2 manual lists all supported attributes
 along with their keys, types and allowed values. The code shown below, fetches and clusters
 50 results from <a href="org/carrot2/source/microsoft/Bing3WebDocumentSource.html" title="class in org.carrot2.source.microsoft"><code>Bing3WebDocumentSource</code></a>. 
 

  </p>
<pre class="brush: java">            /* A controller to manage the processing pipeline. */
            final Controller controller = ControllerFactory.createSimple();
    
            /* Prepare attributes */
            final Map&lt;String, Object&gt; attributes = new HashMap&lt;String, Object&gt;();
            
            /* Put your own API key here! */
            Bing3WebDocumentSourceDescriptor.attributeBuilder(attributes)
                .appid(BingKeyAccess.getKey());

            /* Query an the required number of results */
            attributes.put(CommonAttributesDescriptor.Keys.QUERY, "clustering");
            attributes.put(CommonAttributesDescriptor.Keys.RESULTS, 50);
    
            /* Perform processing */
            final ProcessingResult result = controller.process(attributes, 
                Bing3WebDocumentSource.class, STCClusteringAlgorithm.class);

            /* Documents fetched from the document source, clusters created by Carrot2. */
            final List&lt;Document&gt; documents = result.getDocuments();
            final List&lt;Cluster&gt; clusters = result.getClusters();
</pre>
<a href="https://github.com/carrot2/carrot2/blob/8d24ccff74b0cab7ea4753e24113c566d0eb5e9e/applications/carrot2-examples/examples/org/carrot2/examples/clustering/ClusteringDataFromDocumentSources.java" target="_blank" class="source-link">Full source code: ClusteringDataFromDocumentSources.java</a><a name="setting-attributes"></a>
<h2>Setting attributes of clustering algorithms and document sources</h2>
<a name="setting-attributes-by-attribute-key"></a>
<h3>By attribute keys</h3>
<div xml:base="snippets/using-attributes-raw-map-intro">
<p>
 You can change the default behaviour of clustering algorithms and document sources
 by changing their <em>attributes</em>. For a complete list of available attributes,
 their identifiers, types and allowed values, please see Carrot2 manual.
 </p>
<p>
 To pass attributes to Carrot2, put them into a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a>,
 along with query or documents being clustered. The code shown below searches the
 web using <a href="org/carrot2/source/microsoft/Bing3WebDocumentSource.html" title="class in org.carrot2.source.microsoft"><code>Bing3WebDocumentSource</code></a> 
 and clusters the results using <a href="org/carrot2/clustering/lingo/LingoClusteringAlgorithm.html" title="class in org.carrot2.clustering.lingo"><code>LingoClusteringAlgorithm</code></a>
 customized to create fewer clusters than by default.
 </p>
</div>
<pre class="brush: java">            /* A controller to manage the processing pipeline. */
            final Controller controller = ControllerFactory.createSimple();
            
            /* Prepare attribute map */
            final Map&lt;String, Object&gt; attributes = new HashMap&lt;String, Object&gt;();

            /* Put attribute values using direct keys. */
            attributes.put(CommonAttributesDescriptor.Keys.QUERY, "data mining");
            attributes.put(CommonAttributesDescriptor.Keys.RESULTS, 100);
            attributes.put("LingoClusteringAlgorithm.desiredClusterCountBase", 15);

            /* Put your own API key here! */
            attributes.put(Bing3WebDocumentSourceDescriptor.Keys.APPID, BingKeyAccess.getKey()); 
            
            /* Perform processing */
            final ProcessingResult result = controller.process(attributes,
                Bing3WebDocumentSource.class, LingoClusteringAlgorithm.class);
    
            /* Documents fetched from the document source, clusters created by Carrot2. */
            final List&lt;Document&gt; documents = result.getDocuments();
            final List&lt;Cluster&gt; clusters = result.getClusters();
</pre>
<a href="https://github.com/carrot2/carrot2/blob/8d24ccff74b0cab7ea4753e24113c566d0eb5e9e/applications/carrot2-examples/examples/org/carrot2/examples/clustering/UsingAttributes.java" target="_blank" class="source-link">Full source code: UsingAttributes.java</a><a name="setting-attributes-using-attribute-builders"></a>
<h3>Using attribute builders</h3>
<div xml:base="snippets/using-attributes-builders-intro">
<p>
 As an alternative to the raw attribute map used in the previous example, you
 can use attribute map builders. Attribute map builders have a number of advantages:
 </p>
<ul>
<li>Type-safety: the correct type of the value will be enforced at compile time</li>
<li>Error prevention: unexpected results caused by typos in attribute name strings are avoided</li>
<li>Early error detection: in case an attribute's key changes, your compiler will detect that</li>
<li>IDE support: your IDE will suggest the right method names and parameters</li>
</ul>
<p>
 A possible disadvantage of attribute builders is that one algorithm's attributes can
 be divided into a number of builders and hence not readily available in your IDE's auto
 complete window. Please consult attribute documentation in Carrot2 manual for pointers to 
 the appropriate builder classes and methods.
 </p>
<p>
 The code shown below fetches 100 results for query <em>data mining</em> from 
 <a href="org/carrot2/source/microsoft/Bing3WebDocumentSource.html" title="class in org.carrot2.source.microsoft"><code>Bing3WebDocumentSource</code></a> and clusters them using 
 the <a href="org/carrot2/clustering/lingo/LingoClusteringAlgorithm.html" title="class in org.carrot2.clustering.lingo"><code>LingoClusteringAlgorithm</code></a> tuned to create slightly 
 fewer clusters than by default. Please note how the API key is passed and use your own 
 key in production deployments.
 </p>
</div>
<pre class="brush: java">            /* A controller to manage the processing pipeline. */
            final Controller controller = ControllerFactory.createSimple();
            
            /* Prepare attribute map */
            final Map&lt;String, Object&gt; attributes = new HashMap&lt;String, Object&gt;();

            /* Put values using attribute builders */
            CommonAttributesDescriptor
                .attributeBuilder(attributes)
                    .query("data mining")
                    .results(100);
            LingoClusteringAlgorithmDescriptor
                .attributeBuilder(attributes)
                    .desiredClusterCountBase(15)
                    .matrixReducer()
                        .factorizationQuality(FactorizationQuality.HIGH);
                        
            Bing3WebDocumentSourceDescriptor
                .attributeBuilder(attributes)
                    .appid(BingKeyAccess.getKey()); // use your own key here
            
            /* Perform processing */
            final ProcessingResult result = controller.process(attributes,
                Bing3WebDocumentSource.class, LingoClusteringAlgorithm.class);
    
            /* Documents fetched from the document source, clusters created by Carrot2. */
            final List&lt;Document&gt; documents = result.getDocuments();
            final List&lt;Cluster&gt; clusters = result.getClusters();
</pre>
<a href="https://github.com/carrot2/carrot2/blob/8d24ccff74b0cab7ea4753e24113c566d0eb5e9e/applications/carrot2-examples/examples/org/carrot2/examples/clustering/UsingAttributes.java" target="_blank" class="source-link">Full source code: UsingAttributes.java</a><a name="collecting-output-attributes"></a>
<h3>Collecting output attributes</h3>
<div xml:base="snippets/using-attributes-output-intro">
<p>
 Some algorithms apart from clusters can produce additional, usually
 diagnostic, output. The output is present in the attributes map contained
 in the <a href="org/carrot2/core/ProcessingResult.html" title="class in org.carrot2.core"><code>ProcessingResult</code></a>. You can read the contents 
 of that map directly or through the attribute map builders. Carrot2 manual
 lists and describes in detail the output attributes of each component.
 </p>
<p>
 The code shown below clusters clusters an example collection of 
 <a href="org/carrot2/core/Document.html" title="class in org.carrot2.core"><code>Document</code></a>s using the Lingo algorithm. Lingo can
 optionally use native platform-specific matrix computation libraries. The
 example code reads an attribute to find out whether such libraries were
 successfully loaded and used. 
 </p>
</div>
<pre class="brush: java">            /* A controller to manage the processing pipeline. */
            final Controller controller = ControllerFactory.createSimple();
            
            /* Prepare attribute map */
            final Map&lt;String, Object&gt; attributes = new HashMap&lt;String, Object&gt;();
            CommonAttributesDescriptor
                .attributeBuilder(attributes)
                    .documents(SampleDocumentData.DOCUMENTS_DATA_MINING);
            LingoClusteringAlgorithmDescriptor
                .attributeBuilder(attributes)
                    .desiredClusterCountBase(15)
                    .matrixReducer()
                        .factorizationQuality(FactorizationQuality.HIGH);

            /* Perform processing */
            final ProcessingResult result = controller.process(attributes,
                LingoClusteringAlgorithm.class);
            
            /* Clusters created by Carrot2, read processing time */
            final List&lt;Cluster&gt; clusters = result.getClusters();
            final Long clusteringTime = CommonAttributesDescriptor.attributeBuilder(
                result.getAttributes()).processingTimeAlgorithm();
</pre>
<a href="https://github.com/carrot2/carrot2/blob/8d24ccff74b0cab7ea4753e24113c566d0eb5e9e/applications/carrot2-examples/examples/org/carrot2/examples/clustering/UsingAttributes.java" target="_blank" class="source-link">Full source code: UsingAttributes.java</a><a name="caching-controller"></a>
<h2>Pooling of processing component instances, caching of processing results</h2>
<p>
    The examples shown above used a simple controller 
    to manage the clustering process. While the simple controller
    is enough for one-shot requests, for long-running applications, such as web 
    applications, it's better to use a controller which supports pooling of 
    processing component instances and caching of processing results. 
  </p>
<pre class="brush: java">        /*
         * Create the caching controller. You need only one caching controller instance
         * per application life cycle. This controller instance will cache the results
         * fetched from any document source and also clusters generated by the Lingo
         * algorithm.
         */
        final Controller controller = ControllerFactory.createCachingPooling(
            IDocumentSource.class, LingoClusteringAlgorithm.class);

        /*
         * Before using the caching controller, you must initialize it. On initialization,
         * you can set default values for some attributes. In this example, we'll set the
         * default results number to 50 and the API key.
         */
        final Map&lt;String, Object&gt; globalAttributes = new HashMap&lt;String, Object&gt;();
        CommonAttributesDescriptor
            .attributeBuilder(globalAttributes)
                .results(50);
        Bing3WebDocumentSourceDescriptor
            .attributeBuilder(globalAttributes)
                .appid(BingKeyAccess.getKey()); // use your own ID here
        controller.init(globalAttributes);

        /*
         * The controller is now ready to perform queries. To show that the documents from
         * the document input are cached, we will perform the same query twice and measure
         * the time for each query.
         */
        ProcessingResult result;
        long start, duration;

        final Map&lt;String, Object&gt; attributes;
        attributes = new HashMap&lt;String, Object&gt;();
        CommonAttributesDescriptor.attributeBuilder(attributes).query("data mining");

        start = System.currentTimeMillis();
        result = controller.process(attributes, Bing3WebDocumentSource.class,
            LingoClusteringAlgorithm.class);
        duration = System.currentTimeMillis() - start;
        System.out.println(duration + " ms (empty cache)");

        start = System.currentTimeMillis();
        result = controller.process(attributes, Bing3WebDocumentSource.class,
            LingoClusteringAlgorithm.class);
        duration = System.currentTimeMillis() - start;
        System.out.println(duration + " ms (documents and clusters from cache)");
</pre>
<a href="https://github.com/carrot2/carrot2/blob/8d24ccff74b0cab7ea4753e24113c566d0eb5e9e/applications/carrot2-examples/examples/org/carrot2/examples/clustering/UsingCachingController.java" target="_blank" class="source-link">Full source code: UsingCachingController.java</a><a name="non-english"></a>
<h2>Clustering non-English content</h2>
<div xml:base="snippets/clustering-non-english-content-intro">
<p>
 This example shows how to cluster non-English content. By default Carrot2 assumes that
 the documents provided for clustering are written in English. When clustering content
 written in some different language, it is important to indicate the language to
 Carrot2, so that it can use the lexical resources (stop words, tokenizer, stemmer)
 appropriate for that language.
 </p>
<p>
 There are two ways to indicate the desired clustering language to Carrot2:
 </p>
<ol>
<li>By setting the language of each document in their
 <a href="org/carrot2/core/Document.html#LANGUAGE"><code>Document.LANGUAGE</code></a> field. The language does not necessarily
 have to be the same for all documents on the input, Carrot2 can handle multiple
 languages in one document set as well. Please see the
 <a href="org/carrot2/text/clustering/MultilingualClustering.html#languageAggregationStrategy"><code>MultilingualClustering.languageAggregationStrategy</code></a>
 attribute for more details.</li>
<li>By setting the fallback language. For documents with undefined
 <a href="org/carrot2/core/Document.html#LANGUAGE"><code>Document.LANGUAGE</code></a> field, Carrot2 will assume the some fallback
 language, which is English by default. You can change the fallback language by setting
 the <a href="org/carrot2/text/clustering/MultilingualClustering.html#defaultLanguage"><code>MultilingualClustering.defaultLanguage</code></a>
 attribute.</li>
</ol>
 Additionally, a number of document sources automatically set the
 <a href="org/carrot2/core/Document.html#LANGUAGE"><code>Document.LANGUAGE</code></a> of documents they produce based on their
 specific language-related attributes. Currently, three documents support this scenario:
 <ol>
<li><a href="org/carrot2/source/microsoft/Bing3WebDocumentSource.html" title="class in org.carrot2.source.microsoft"><code>Bing3WebDocumentSource</code></a> through the
 <a href="org/carrot2/source/microsoft/Bing3DocumentSource.html#market"><code>Bing3DocumentSource.market</code></a> attribute,</li>
<li><a href="org/carrot2/source/etools/EToolsDocumentSource.html" title="class in org.carrot2.source.etools"><code>EToolsDocumentSource</code></a> through the
 <a href="org/carrot2/source/etools/EToolsDocumentSource.html#language"><code>EToolsDocumentSource.language</code></a> attribute.</li>
</ol>
 For the document sources that do not set the documents' language automatically, the
 easiest way to set the clustering language is through the
 <a href="org/carrot2/text/clustering/MultilingualClustering.html#defaultLanguage"><code>MultilingualClustering.defaultLanguage</code></a> attribute.
 </div>
<pre class="brush: java">        /*
         * We use a Controller that reuse instances of Carrot2 processing components 
         * and caches results produced by document sources.
         */
        final Controller controller = ControllerFactory.createCachingPooling(IDocumentSource.class);

        /*
         * In the first call, we'll cluster a document list, setting the language for each
         * document separately.
         */
        final List&lt;Document&gt; documents = Lists.newArrayList();
        for (Document document : SampleDocumentData.DOCUMENTS_DATA_MINING)
        {
            documents.add(new Document(document.getTitle(), document.getSummary(),
                document.getContentUrl(), LanguageCode.ENGLISH));
        }

        final Map&lt;String, Object&gt; attributes = Maps.newHashMap();
        CommonAttributesDescriptor.attributeBuilder(attributes)
            .documents(documents);
        final ProcessingResult englishResult = controller.process(
            attributes, LingoClusteringAlgorithm.class);
        ConsoleFormatter.displayResults(englishResult);

        /*
         * In the second call, we will fetch results for a Chinese query from Bing,
         * setting explicitly the Bing's specific language attribute. Based on that
         * attribute, the document source will set the appropriate language for each
         * document.
         */
        attributes.clear();
        
        CommonAttributesDescriptor.attributeBuilder(attributes)
            .query("聚类" /* clustering? */)
            .results(100);

        Bing3WebDocumentSourceDescriptor.attributeBuilder(attributes)
            .market(MarketOption.CHINESE_CHINA);
        Bing3WebDocumentSourceDescriptor
            .attributeBuilder(attributes)
                .appid(BingKeyAccess.getKey()); // use your own ID here!

        final ProcessingResult chineseResult = controller.process(attributes,
            Bing3WebDocumentSource.class, LingoClusteringAlgorithm.class);
        ConsoleFormatter.displayResults(chineseResult);

        /*
         * In the third call, we will fetch results for the same Chinese query from
         * Google. As Google document source does not have its specific attribute for
         * setting the language, it will not set the documents' language for us. To make
         * sure the right lexical resources are used, we will need to set the
         * MultilingualClustering.defaultLanguage attribute to Chinese on our own.
         */
        attributes.clear();
        
        CommonAttributesDescriptor.attributeBuilder(attributes)
            .query("聚类" /* clustering? */)
            .results(100);

        MultilingualClusteringDescriptor.attributeBuilder(attributes)
            .defaultLanguage(LanguageCode.CHINESE_SIMPLIFIED);

        final ProcessingResult chineseResult2 = controller.process(attributes,
            GoogleDocumentSource.class, LingoClusteringAlgorithm.class);
        ConsoleFormatter.displayResults(chineseResult2);
</pre>
<a href="https://github.com/carrot2/carrot2/blob/8d24ccff74b0cab7ea4753e24113c566d0eb5e9e/applications/carrot2-examples/examples/org/carrot2/examples/clustering/ClusteringNonEnglishContent.java" target="_blank" class="source-link">Full source code: ClusteringNonEnglishContent.java</a>
<link href="./sh/shCore.css" rel="stylesheet" type="text/css">
<link href="./sh/shThemeDefault.css" rel="stylesheet" type="text/css">
<script src="./sh/shCore.js" type="text/javascript"></script><script src="./sh/shBrushJava.js" type="text/javascript"></script><script type="text/javascript">
    SyntaxHighlighter.defaults.light = false;
    SyntaxHighlighter.defaults.gutter = false;
    SyntaxHighlighter.all();
  </script></div>
</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="deprecated-list.html">Deprecated</a></li>
</ul>
<div class="aboutLanguage"><em><div class='logo'>Please refer to project documentation at <br><a target='_top' href=http://project.carrot2.org>http://project.carrot2.org</a></div></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><center>Copyright (c) Dawid Weiss, Stanislaw Osinski </center><script type="text/javascript"> var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E")); </script> <script type="text/javascript"> var pageTracker = _gat._getTracker("UA-317750-1"); pageTracker._trackPageview(); </script></small></p>
</body>
</html>
