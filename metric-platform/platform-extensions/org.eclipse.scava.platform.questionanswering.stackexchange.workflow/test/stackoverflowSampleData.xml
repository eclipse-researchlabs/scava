<?xml version="1.0" encoding="utf-8"?>
<posts>
  <row Id="4" PostTypeId="1" AcceptedAnswerId="7" CreationDate="2008-07-31T21:42:52.667" Score="528" ViewCount="33648" Body="&lt;p&gt;I want to use a track-bar to change a form's opacity.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is my code:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;decimal trans = trackBar1.Value / 5000;&#xA;this.Opacity = trans;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;When I build the application, it gives the following error:&lt;/p&gt;&#xA;&#xA;&lt;blockquote&gt;&#xA;  &lt;p&gt;Cannot implicitly convert type &lt;code&gt;'decimal'&lt;/code&gt; to &lt;code&gt;'double'&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&#xA;&lt;p&gt;I tried using &lt;code&gt;trans&lt;/code&gt; and &lt;code&gt;double&lt;/code&gt; but then the control doesn't work. This code worked fine in a past VB.NET project.&lt;/p&gt;&#xA;" OwnerUserId="8" LastEditorUserId="3151675" LastEditorDisplayName="Rich B" LastEditDate="2017-09-27T05:52:59.927" LastActivityDate="2017-09-27T05:52:59.927" Title="While applying opacity to a form, should we use a decimal or a double value?" Tags="&lt;c#&gt;&lt;winforms&gt;&lt;type-conversion&gt;&lt;decimal&gt;&lt;opacity&gt;" AnswerCount="13" CommentCount="1" FavoriteCount="37" CommunityOwnedDate="2012-10-31T16:42:47.213" />
  <row Id="6" PostTypeId="1" AcceptedAnswerId="31" CreationDate="2008-07-31T22:08:08.620" Score="231" ViewCount="15363" Body="&lt;p&gt;I have an absolutely positioned &lt;code&gt;div&lt;/code&gt; containing several children, one of which is a relatively positioned &lt;code&gt;div&lt;/code&gt;. When I use a &lt;strong&gt;percentage-based width&lt;/strong&gt; on the child &lt;code&gt;div&lt;/code&gt;, it collapses to '0' width on &lt;a href=&quot;http://en.wikipedia.org/wiki/Internet_Explorer_7&quot; rel=&quot;noreferrer&quot;&gt;Internet&amp;nbsp;Explorer&amp;nbsp;7&lt;/a&gt;, but not on Firefox or Safari.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;If I use &lt;strong&gt;pixel width&lt;/strong&gt;, it works. If the parent is relatively positioned, the percentage width on the child works.&lt;/p&gt;&#xA;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Is there something I'm missing here?&lt;/li&gt;&#xA;&lt;li&gt;Is there an easy fix for this besides the &lt;em&gt;pixel-based width&lt;/em&gt; on the&#xA;child?&lt;/li&gt;&#xA;&lt;li&gt;Is there an area of the CSS specification that covers this?&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;" OwnerUserId="9" LastEditorUserId="63550" LastEditorDisplayName="Rich B" LastEditDate="2016-03-19T06:05:48.487" LastActivityDate="2016-03-19T06:10:52.170" Title="Percentage width child element in absolutely positioned parent on Internet Explorer 7" Tags="&lt;html&gt;&lt;css&gt;&lt;css3&gt;&lt;internet-explorer-7&gt;" AnswerCount="5" CommentCount="0" FavoriteCount="9" />
  <row Id="7" PostTypeId="2" ParentId="4" CreationDate="2008-07-31T22:17:57.883" Score="379" Body="&lt;p&gt;An explicit cast to double isn't necessary.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;double trans = (double)trackBar1.Value / 5000.0;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Identifying the constant as &lt;code&gt;5000.0&lt;/code&gt; (or as &lt;code&gt;5000d&lt;/code&gt;) is sufficient:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;double trans = trackBar1.Value / 5000.0;&#xA;double trans = trackBar1.Value / 5000d;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="9" LastEditorUserId="967315" LastEditDate="2012-10-14T11:50:16.703" LastActivityDate="2012-10-14T11:50:16.703" CommentCount="0" />
  <row Id="9" PostTypeId="1" AcceptedAnswerId="1404" CreationDate="2008-07-31T23:40:59.743" Score="1624" ViewCount="417633" Body="&lt;p&gt;Given a &lt;code&gt;DateTime&lt;/code&gt; representing a person's birthday, how do I calculate their age in years?  &lt;/p&gt;&#xA;" OwnerUserId="1" LastEditorUserId="5292302" LastEditorDisplayName="Rich B" LastEditDate="2017-11-07T11:12:32.963" LastActivityDate="2017-11-07T11:12:32.963" Title="How do I calculate someone's age in C#?" Tags="&lt;c#&gt;&lt;.net&gt;&lt;datetime&gt;" AnswerCount="61" CommentCount="10" FavoriteCount="356" CommunityOwnedDate="2011-08-16T19:40:43.080" />
  <row Id="11" PostTypeId="1" AcceptedAnswerId="1248" CreationDate="2008-07-31T23:55:37.967" Score="1234" ViewCount="126480" Body="&lt;p&gt;Given a specific &lt;code&gt;DateTime&lt;/code&gt; value, how do I display relative time, like:&lt;/p&gt;&#xA;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;2 hours ago&lt;/li&gt;&#xA;&lt;li&gt;3 days ago&lt;/li&gt;&#xA;&lt;li&gt;a month ago&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;" OwnerUserId="1" LastEditorUserId="6479704" LastEditorDisplayName="user2370523" LastEditDate="2017-06-04T15:51:19.780" LastActivityDate="2017-09-04T01:27:10.793" Title="Calculate relative time in C#" Tags="&lt;c#&gt;&lt;datetime&gt;&lt;time&gt;&lt;datediff&gt;&lt;relative-time-span&gt;" AnswerCount="34" CommentCount="3" FavoriteCount="526" CommunityOwnedDate="2009-09-04T13:15:59.820" />
  <row Id="12" PostTypeId="2" ParentId="11" CreationDate="2008-07-31T23:56:41.303" Score="312" Body="&lt;p&gt;Well, here's how we do it on Stack Overflow.&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-csharp prettyprint-override&quot;&gt;&lt;code&gt;var ts = new TimeSpan(DateTime.UtcNow.Ticks - dt.Ticks);&#xA;double delta = Math.Abs(ts.TotalSeconds);&#xA;&#xA;if (delta &amp;lt; 60)&#xA;{&#xA;  return ts.Seconds == 1 ? &quot;one second ago&quot; : ts.Seconds + &quot; seconds ago&quot;;&#xA;}&#xA;if (delta &amp;lt; 120)&#xA;{&#xA;  return &quot;a minute ago&quot;;&#xA;}&#xA;if (delta &amp;lt; 2700) // 45 * 60&#xA;{&#xA;  return ts.Minutes + &quot; minutes ago&quot;;&#xA;}&#xA;if (delta &amp;lt; 5400) // 90 * 60&#xA;{&#xA;  return &quot;an hour ago&quot;;&#xA;}&#xA;if (delta &amp;lt; 86400) // 24 * 60 * 60&#xA;{&#xA;  return ts.Hours + &quot; hours ago&quot;;&#xA;}&#xA;if (delta &amp;lt; 172800) // 48 * 60 * 60&#xA;{&#xA;  return &quot;yesterday&quot;;&#xA;}&#xA;if (delta &amp;lt; 2592000) // 30 * 24 * 60 * 60&#xA;{&#xA;  return ts.Days + &quot; days ago&quot;;&#xA;}&#xA;if (delta &amp;lt; 31104000) // 12 * 30 * 24 * 60 * 60&#xA;{&#xA;  int months = Convert.ToInt32(Math.Floor((double)ts.Days / 30));&#xA;  return months &amp;lt;= 1 ? &quot;one month ago&quot; : months + &quot; months ago&quot;;&#xA;}&#xA;int years = Convert.ToInt32(Math.Floor((double)ts.Days / 365));&#xA;return years &amp;lt;= 1 ? &quot;one year ago&quot; : years + &quot; years ago&quot;;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Suggestions? Comments? Ways to improve this algorithm?&lt;/p&gt;&#xA;" OwnerUserId="1" LastEditorUserId="1420197" LastEditorDisplayName="GateKiller" LastEditDate="2014-02-18T14:19:35.770" LastActivityDate="2014-02-18T14:19:35.770" CommentCount="10" CommunityOwnedDate="2009-09-04T13:15:59.820" />
  <row Id="13" PostTypeId="1" CreationDate="2008-08-01T00:42:38.903" Score="512" ViewCount="146275" Body="&lt;p&gt;Is there any standard way for a Web Server to be able to determine a user's timezone within a web page? Perhaps from a HTTP header or part of the user-agent string?&lt;/p&gt;&#xA;" OwnerUserId="9" LastEditorUserId="3155639" LastEditorDisplayName="Rich B" LastEditDate="2016-12-20T19:22:26.510" LastActivityDate="2017-07-31T11:30:41.573" Title="Determine a User's Timezone" Tags="&lt;javascript&gt;&lt;html&gt;&lt;browser&gt;&lt;timezone&gt;&lt;timezoneoffset&gt;" AnswerCount="24" CommentCount="4" FavoriteCount="127" />
  <row Id="14" PostTypeId="1" CreationDate="2008-08-01T00:59:11.177" Score="330" ViewCount="99255" Body="&lt;p&gt;What is the difference between &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/9a6a2sxy.aspx&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Math.Floor()&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/system.math.truncate.aspx&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Math.Truncate()&lt;/code&gt;&lt;/a&gt; in .NET?&lt;/p&gt;&#xA;" OwnerUserId="11" OwnerDisplayName="Anonymous User" LastEditorUserId="6495084" LastEditorDisplayName="Rich B" LastEditDate="2017-02-25T17:42:17.810" LastActivityDate="2017-11-11T03:45:52.287" Title="Difference between Math.Floor() and Math.Truncate()" Tags="&lt;.net&gt;&lt;math&gt;" AnswerCount="8" CommentCount="1" FavoriteCount="51" />
  <row Id="16" PostTypeId="1" AcceptedAnswerId="12446" CreationDate="2008-08-01T04:59:33.643" Score="98" ViewCount="76893" Body="&lt;p&gt;How do you expose a LINQ query as an ASMX web service? Usually, from the business tier, I can return a typed &lt;code&gt;DataSet&lt;/code&gt; or &lt;code&gt;DataTable&lt;/code&gt; which can be serialized for transport over ASMX.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;How can I do the same for a LINQ query? Is there a way to populate a typed &lt;code&gt;DataSet&lt;/code&gt; or &lt;code&gt;DataTable&lt;/code&gt; via a LINQ query?&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public static MyDataTable CallMySproc()&#xA;{&#xA;    string conn = &quot;...&quot;;&#xA;&#xA;    MyDatabaseDataContext db = new MyDatabaseDataContext(conn);&#xA;    MyDataTable dt = new MyDataTable();&#xA;&#xA;    // execute a sproc via LINQ&#xA;    var query = from dr&#xA;                in db.MySproc().AsEnumerable&#xA;                select dr;&#xA;&#xA;    // copy LINQ query resultset into a DataTable -this does not work !    &#xA;    dt = query.CopyToDataTable();&#xA;&#xA;    return dt;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;How can I get the result set of a LINQ query into a &lt;code&gt;DataSet&lt;/code&gt; or &lt;code&gt;DataTable&lt;/code&gt;? Alternatively, is the LINQ query serializeable so that I can expose it as an ASMX web service?&lt;/p&gt;&#xA;" OwnerUserId="2" LastEditorUserId="2571493" LastEditorDisplayName="Chris Fournier" LastEditDate="2016-11-30T08:01:28.050" LastActivityDate="2016-11-30T08:01:28.050" Title="Filling a DataSet or DataTable from a LINQ query result set" Tags="&lt;c#&gt;&lt;linq&gt;&lt;web-services&gt;&lt;.net-3.5&gt;" AnswerCount="5" CommentCount="0" FavoriteCount="13" />
  <row Id="17" PostTypeId="1" AcceptedAnswerId="26" CreationDate="2008-08-01T05:09:55.993" Score="142" ViewCount="58963" Body="&lt;p&gt;How do I store binary data in &lt;a href=&quot;http://en.wikipedia.org/wiki/MySQL&quot; rel=&quot;noreferrer&quot;&gt;MySQL&lt;/a&gt;?&lt;/p&gt;&#xA;" OwnerUserId="2" LastEditorUserId="546051" LastEditDate="2011-10-21T21:29:17.160" LastActivityDate="2016-07-31T15:32:02.653" Title="Binary Data in MySQL" Tags="&lt;mysql&gt;&lt;database&gt;&lt;binary-data&gt;&lt;data-storage&gt;" AnswerCount="10" CommentCount="0" FavoriteCount="16" />
  <row Id="18" PostTypeId="2" ParentId="17" CreationDate="2008-08-01T05:12:44.193" Score="45" Body="&lt;p&gt;For a table like this:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;CREATE TABLE binary_data (&#xA;    id INT(4) NOT NULL AUTO_INCREMENT PRIMARY KEY,&#xA;    description CHAR(50),&#xA;    bin_data LONGBLOB,&#xA;    filename CHAR(50),&#xA;    filesize CHAR(50),&#xA;    filetype CHAR(50)&#xA;);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Here is a PHP example:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;?php&#xA;    // store.php3 - by Florian Dittmer &amp;lt;dittmer@gmx.net&amp;gt;&#xA;    // Example php script to demonstrate the storing of binary files into&#xA;    // an sql database. More information can be found at http://www.phpbuilder.com/&#xA;?&amp;gt;&#xA;&#xA;&amp;lt;html&amp;gt;&#xA;    &amp;lt;head&amp;gt;&amp;lt;title&amp;gt;Store binary data into SQL Database&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;&#xA;&#xA;    &amp;lt;body&amp;gt;&#xA;        &amp;lt;?php&#xA;            // Code that will be executed if the form has been submitted:&#xA;&#xA;            if ($submit) {&#xA;                // Connect to the database (you may have to adjust&#xA;                // the hostname, username or password).&#xA;&#xA;                mysql_connect(&quot;localhost&quot;, &quot;root&quot;, &quot;password&quot;);&#xA;                mysql_select_db(&quot;binary_data&quot;);&#xA;&#xA;                $data = mysql_real_escape_string(fread(fopen($form_data, &quot;r&quot;), filesize($form_data)));&#xA;&#xA;                $result = mysql_query(&quot;INSERT INTO binary_data (description, bin_data, filename, filesize, filetype) &quot;.&#xA;                                    &quot;VALUES ('$form_description', '$data', '$form_data_name', '$form_data_size', '$form_data_type')&quot;);&#xA;&#xA;                $id= mysql_insert_id();&#xA;                print &quot;&amp;lt;p&amp;gt;This file has the following Database ID: &amp;lt;b&amp;gt;$id&amp;lt;/b&amp;gt;&quot;;&#xA;&#xA;                mysql_close();&#xA;            } else {&#xA;&#xA;                // else show the form to submit new data:&#xA;        ?&amp;gt;&#xA;        &amp;lt;form method=&quot;post&quot; action=&quot;&amp;lt;?php echo $PHP_SELF; ?&amp;gt;&quot; enctype=&quot;multipart/form-data&quot;&amp;gt;&#xA;            File Description:&amp;lt;br&amp;gt;&#xA;            &amp;lt;input type=&quot;text&quot; name=&quot;form_description&quot;  size=&quot;40&quot;&amp;gt;&#xA;            &amp;lt;input type=&quot;hidden&quot; name=&quot;MAX_FILE_SIZE&quot; value=&quot;1000000&quot;&amp;gt;&#xA;            &amp;lt;br&amp;gt;File to upload/store in database:&amp;lt;br&amp;gt;&#xA;            &amp;lt;input type=&quot;file&quot; name=&quot;form_data&quot;  size=&quot;40&quot;&amp;gt;&#xA;            &amp;lt;p&amp;gt;&amp;lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;submit&quot;&amp;gt;&#xA;        &amp;lt;/form&amp;gt;&#xA;&#xA;        &amp;lt;?php&#xA;            }&#xA;        ?&amp;gt;&#xA;    &amp;lt;/body&amp;gt;&#xA;&amp;lt;/html&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerDisplayName="phpguy" LastEditorUserId="126039" LastEditorDisplayName="Jeff Atwood" LastEditDate="2016-06-02T05:56:26.060" LastActivityDate="2016-06-02T05:56:26.060" CommentCount="2" />
  <row Id="19" PostTypeId="1" AcceptedAnswerId="531" CreationDate="2008-08-01T05:21:22.257" Score="257" ViewCount="39166" Body="&lt;p&gt;Solutions are welcome in any language. :-) I'm looking for the fastest way to obtain the value of π, as a personal challenge. More specifically I'm using ways that don't involve using &lt;code&gt;#define&lt;/code&gt;d constants like &lt;code&gt;M_PI&lt;/code&gt;, or hard-coding the number in.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The program below tests the various ways I know of. The inline assembly version is, in theory, the fastest option, though clearly not portable; I've included it as a baseline to compare the other versions against. In my tests, with built-ins, the &lt;code&gt;4 * atan(1)&lt;/code&gt; version is fastest on GCC 4.2, because it auto-folds the &lt;code&gt;atan(1)&lt;/code&gt; into a constant. With &lt;code&gt;-fno-builtin&lt;/code&gt; specified, the &lt;code&gt;atan2(0, -1)&lt;/code&gt; version is fastest.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Here's the main testing program (&lt;code&gt;pitimes.c&lt;/code&gt;):&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-c prettyprint-override&quot;&gt;&lt;code&gt;#include &amp;lt;math.h&amp;gt;&#xA;#include &amp;lt;stdio.h&amp;gt;&#xA;#include &amp;lt;time.h&amp;gt;&#xA;&#xA;#define ITERS 10000000&#xA;#define TESTWITH(x) {                                                       \&#xA;    diff = 0.0;                                                             \&#xA;    time1 = clock();                                                        \&#xA;    for (i = 0; i &amp;lt; ITERS; ++i)                                             \&#xA;        diff += (x) - M_PI;                                                 \&#xA;    time2 = clock();                                                        \&#xA;    printf(&quot;%s\t=&amp;gt; %e, time =&amp;gt; %f\n&quot;, #x, diff, diffclock(time2, time1));   \&#xA;}&#xA;&#xA;static inline double&#xA;diffclock(clock_t time1, clock_t time0)&#xA;{&#xA;    return (double) (time1 - time0) / CLOCKS_PER_SEC;&#xA;}&#xA;&#xA;int&#xA;main()&#xA;{&#xA;    int i;&#xA;    clock_t time1, time2;&#xA;    double diff;&#xA;&#xA;    /* Warmup. The atan2 case catches GCC's atan folding (which would&#xA;     * optimise the ``4 * atan(1) - M_PI'' to a no-op), if -fno-builtin&#xA;     * is not used. */&#xA;    TESTWITH(4 * atan(1))&#xA;    TESTWITH(4 * atan2(1, 1))&#xA;&#xA;#if defined(__GNUC__) &amp;amp;&amp;amp; (defined(__i386__) || defined(__amd64__))&#xA;    extern double fldpi();&#xA;    TESTWITH(fldpi())&#xA;#endif&#xA;&#xA;    /* Actual tests start here. */&#xA;    TESTWITH(atan2(0, -1))&#xA;    TESTWITH(acos(-1))&#xA;    TESTWITH(2 * asin(1))&#xA;    TESTWITH(4 * atan2(1, 1))&#xA;    TESTWITH(4 * atan(1))&#xA;&#xA;    return 0;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And the inline assembly stuff (&lt;code&gt;fldpi.c&lt;/code&gt;), noting that it will only work for x86 and x64 systems:&lt;/p&gt;&#xA;&#xA;&lt;pre class=&quot;lang-c prettyprint-override&quot;&gt;&lt;code&gt;double&#xA;fldpi()&#xA;{&#xA;    double pi;&#xA;    asm(&quot;fldpi&quot; : &quot;=t&quot; (pi));&#xA;    return pi;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;And a build script that builds all the configurations I'm testing (&lt;code&gt;build.sh&lt;/code&gt;):&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#!/bin/sh&#xA;gcc -O3 -Wall -c           -m32 -o fldpi-32.o fldpi.c&#xA;gcc -O3 -Wall -c           -m64 -o fldpi-64.o fldpi.c&#xA;&#xA;gcc -O3 -Wall -ffast-math  -m32 -o pitimes1-32 pitimes.c fldpi-32.o&#xA;gcc -O3 -Wall              -m32 -o pitimes2-32 pitimes.c fldpi-32.o -lm&#xA;gcc -O3 -Wall -fno-builtin -m32 -o pitimes3-32 pitimes.c fldpi-32.o -lm&#xA;gcc -O3 -Wall -ffast-math  -m64 -o pitimes1-64 pitimes.c fldpi-64.o -lm&#xA;gcc -O3 -Wall              -m64 -o pitimes2-64 pitimes.c fldpi-64.o -lm&#xA;gcc -O3 -Wall -fno-builtin -m64 -o pitimes3-64 pitimes.c fldpi-64.o -lm&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Apart from testing between various compiler flags (I've compared 32-bit against 64-bit too, because the optimisations are different), I've also tried switching the order of the tests around. The &lt;code&gt;atan2(0, -1)&lt;/code&gt; version still comes out top every time, though.&lt;/p&gt;&#xA;" OwnerUserId="13" LastEditorUserId="635549" LastEditorDisplayName="Chris Jester-Young" LastEditDate="2015-07-11T12:15:53.303" LastActivityDate="2017-07-18T22:32:46.757" Title="What is the fastest way to get the value of π?" Tags="&lt;performance&gt;&lt;algorithm&gt;&lt;language-agnostic&gt;&lt;unix&gt;&lt;pi&gt;" AnswerCount="23" CommentCount="14" FavoriteCount="74" />
  <row Id="21" PostTypeId="2" ParentId="9" CreationDate="2008-08-01T08:57:27.280" Score="31" Body="&lt;p&gt;Many years ago, to provide an &lt;a href=&quot;http://cloud9.hedgee.com/age&quot; rel=&quot;noreferrer&quot;&gt;age calculator gimmick&lt;/a&gt; on my website, I wrote a function to calculate age to a fraction. This is a quick port of that function to C# (from &lt;a href=&quot;http://hedgee.svn.sourceforge.net/viewvc/hedgee/trunk/chris/ckwww/ckage.php3&quot; rel=&quot;noreferrer&quot;&gt;the PHP version&lt;/a&gt;). I'm afraid I haven't been able to test the C# version, but hope you enjoy all the same!&lt;/p&gt;&#xA;&#xA;&lt;p&gt;(Admittedly this is a bit gimmicky for the purposes of showing user profiles on Stack Overflow, but maybe readers will find some use for it. :-))&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;double AgeDiff(DateTime date1, DateTime date2) {&#xA;    double years = date2.Year - date1.Year;&#xA;&#xA;    /*&#xA;     * If date2 and date1 + round(date2 - date1) are on different sides&#xA;     * of 29 February, then our partial year is considered to have 366&#xA;     * days total, otherwise it's 365. Note that 59 is the day number&#xA;     * of 29 Feb.&#xA;     */&#xA;    double fraction = 365&#xA;            + (DateTime.IsLeapYear(date2.Year) &amp;amp;&amp;amp; date2.DayOfYear &amp;gt;= 59&#xA;            &amp;amp;&amp;amp; (date1.DayOfYear &amp;lt; 59 || date1.DayOfYear &amp;gt; date2.DayOfYear)&#xA;            ? 1 : 0);&#xA;&#xA;    /*&#xA;     * The only really nontrivial case is if date1 is in a leap year,&#xA;     * and date2 is not. So let's handle the others first.&#xA;     */&#xA;    if (DateTime.IsLeapYear(date2.Year) == DateTime.IsLeapYear(date1.Year))&#xA;        return years + (date2.DayOfYear - date1.DayOfYear) / fraction;&#xA;&#xA;    /*&#xA;     * If date2 is in a leap year, but date1 is not and is March or&#xA;     * beyond, shift up by a day.&#xA;     */&#xA;    if (DateTime.IsLeapYear(date2.Year)) {&#xA;        return years + (date2.DayOfYear - date1.DayOfYear&#xA;                - (date1.DayOfYear &amp;gt;= 59 ? 1 : 0)) / fraction;&#xA;    }&#xA;&#xA;    /*&#xA;     * If date1 is not on 29 February, shift down date1 by a day if&#xA;     * March or later. Proceed normally.&#xA;     */&#xA;    if (date1.DayOfYear != 59) {&#xA;        return years + (date2.DayOfYear - date1.DayOfYear&#xA;                + (date1.DayOfYear &amp;gt; 59 ? 1 : 0)) / fraction;&#xA;    }&#xA;&#xA;    /*&#xA;     * Okay, here date1 is on 29 February, and date2 is not on a leap&#xA;     * year. What to do now? On 28 Feb in date2's year, the ``age''&#xA;     * should be just shy of a whole number, and on 1 Mar should be&#xA;     * just over. Perhaps the easiest way is to a point halfway&#xA;     * between those two: 58.5.&#xA;     */&#xA;    return years + (date2.DayOfYear - 58.5) / fraction;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="13" LastEditorUserId="13" LastEditorDisplayName="Chris Jester-Young" LastEditDate="2008-08-01T12:35:11.707" LastActivityDate="2008-08-01T12:35:11.707" CommentCount="0" CommunityOwnedDate="2011-08-16T19:40:43.080" />
  <row Id="22" PostTypeId="2" ParentId="9" CreationDate="2008-08-01T12:07:19.500" Score="24" Body="&lt;p&gt;The best way that I know of because of leap years and everything is:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;DateTime birthDate = new DateTime(2000,3,1);&#xA;int age = (int)Math.Floor((DateTime.Now - birthDate).TotalDays / 365.25D);&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Hope this helps.&lt;/p&gt;&#xA;" OwnerUserId="17" LastEditorUserId="17" LastEditorDisplayName="Nick" LastEditDate="2008-08-01T15:26:37.087" LastActivityDate="2008-08-01T15:26:37.087" CommentCount="0" CommunityOwnedDate="2011-08-16T19:40:43.080" />
  <row Id="24" PostTypeId="1" AcceptedAnswerId="49" CreationDate="2008-08-01T12:12:19.350" Score="125" ViewCount="53902" Body="&lt;p&gt;If I have a &lt;code&gt;trigger&lt;/code&gt; &lt;code&gt;before the update&lt;/code&gt; on a table, how can I throw an error that prevents the update on that table?&lt;/p&gt;&#xA;" OwnerUserId="22" LastEditorUserId="5195227" LastEditorDisplayName="Jim Anderson" LastEditDate="2016-03-11T08:26:05.063" LastActivityDate="2016-11-19T21:05:59.207" Title="Throw an error in a MySQL trigger" Tags="&lt;mysql&gt;&lt;database&gt;&lt;triggers&gt;" AnswerCount="6" CommentCount="0" FavoriteCount="19" />
  <row Id="25" PostTypeId="1" AcceptedAnswerId="1443907" CreationDate="2008-08-01T12:13:50.207" Score="119" ViewCount="8205" Body="&lt;p&gt;I've been having issues getting the C sockets API to work properly in C++. Specifically, although I am including &lt;code&gt;sys/socket.h&lt;/code&gt;, I still get compile time errors telling me that &lt;code&gt;AF_INET&lt;/code&gt; is not defined. Am I missing something obvious, or could this be related to the fact that I'm doing this coding on &lt;code&gt;z/OS&lt;/code&gt; and my problems are much more complicated?&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: Upon further investigation, I discovered that there is an &lt;code&gt;#ifdef&lt;/code&gt; that I'm hitting. Apparently &lt;code&gt;z/OS&lt;/code&gt; isn't happy unless I define which &quot;type&quot; of sockets I'm using with:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#define _OE_SOCKETS&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Now, I personally have no idea what this &lt;code&gt;_OE_SOCKETS&lt;/code&gt; is actually for, so if any &lt;code&gt;z/OS&lt;/code&gt; sockets programmers are out there (all 3 of you), perhaps you could give me a rundown of how this all works?&lt;/p&gt;&#xA;&#xA;&lt;hr&gt;&#xA;&#xA;&lt;p&gt;Sure I can post a test app.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#include &amp;lt;sys/socket.h&amp;gt;&#xA;&#xA;int main()&#xA;{&#xA;    return AF_INET;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;Compile/Link Output:&lt;/p&gt;&#xA;&#xA;&lt;p&gt;cxx -Wc,xplink -Wl,xplink -o inet_test inet.C&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&quot;./inet.C&quot;, line 5.16: CCN5274 (S) The name lookup for &quot;AF_INET&quot; did not find a declaration.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;CCN0797(I) Compilation failed for file ./inet.C. Object file not created.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;A check of sys/sockets.h does include the definition I need, and as far as I can tell, it is not being blocked by any #ifdef statements.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;I have however noticed it contains a the following:&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;#ifdef __cplusplus&#xA;  extern &quot;C&quot; {&#xA;#endif&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;which encapsulates basically the whole file. Not sure if it matters.&lt;/p&gt;&#xA;" OwnerUserId="23" LastEditorUserId="168175" LastEditorDisplayName="user5857081" LastEditDate="2017-07-03T07:59:56.957" LastActivityDate="2017-07-03T07:59:56.957" Title="How to use the C socket API in C++ on z/OS" Tags="&lt;c++&gt;&lt;c&gt;&lt;sockets&gt;&lt;mainframe&gt;&lt;zos&gt;" AnswerCount="9" CommentCount="0" FavoriteCount="7" />
  <row Id="26" PostTypeId="2" ParentId="17" CreationDate="2008-08-01T12:16:22.167" Score="109" Body="&lt;p&gt;The answer by phpguy is correct but I think there is a lot of confusion in the  additional details there.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;The basic answer is in a &lt;code&gt;BLOB&lt;/code&gt; data type / attribute domain. &lt;strong&gt;BLOB&lt;/strong&gt; is short for Binary Large Object and that column data type is specific for handling binary data.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;See &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.7/en/blob.html&quot; rel=&quot;noreferrer&quot;&gt;the relevant manual page for MySQL&lt;/a&gt;.&lt;/p&gt;&#xA;" OwnerUserId="48" OwnerDisplayName="Mat Scales" LastEditorUserId="126039" LastEditorDisplayName="Geoff Dalgas" LastEditDate="2016-06-02T05:55:17.060" LastActivityDate="2016-06-02T05:55:17.060" CommentCount="0" />
  <row Id="27" PostTypeId="2" ParentId="11" CreationDate="2008-08-01T12:17:19.357" Score="28" Body="&lt;p&gt;@jeff&lt;/p&gt;&#xA;&#xA;&lt;p&gt;IMHO yours seems a little long.  However it does seem a little more robust with support for &quot;yesterday&quot; and &quot;years&quot;.  But in my experience when this is used the person is most likely to view the content in the first 30 days.  It is only the really hardcore people that come after that.  So that is why I usually elect to keep this short and simple.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;This is the method I am currently using on one of my websites.  This only returns a relative day, hour, time.  And then the user has to slap on &quot;ago&quot; in the output.&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;public static string ToLongString(this TimeSpan time)&#xA;{&#xA;    string output = String.Empty;&#xA;&#xA;    if (time.Days &amp;gt; 0)&#xA;        output += time.Days + &quot; days &quot;;&#xA;&#xA;    if ((time.Days == 0 || time.Days == 1) &amp;amp;&amp;amp; time.Hours &amp;gt; 0)&#xA;        output += time.Hours + &quot; hr &quot;;&#xA;&#xA;    if (time.Days == 0 &amp;amp;&amp;amp; time.Minutes &amp;gt; 0)&#xA;        output += time.Minutes + &quot; min &quot;;&#xA;&#xA;    if (output.Length == 0)&#xA;        output += time.Seconds + &quot; sec&quot;;&#xA;&#xA;    return output.Trim();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;" OwnerUserId="17" LastEditorUserId="17" LastEditorDisplayName="Nick Berardi" LastEditDate="2008-08-01T13:16:49.127" LastActivityDate="2008-08-01T13:16:49.127" CommentCount="0" CommunityOwnedDate="2009-09-04T13:15:59.820" />
  <row Id="29" PostTypeId="2" ParentId="13" CreationDate="2008-08-01T12:19:17.417" Score="68" Body="&lt;p&gt;There are no HTTP headers that will report the clients timezone so far although it has been suggested to include it in the HTTP specification.&lt;/p&gt;&#xA;&#xA;&lt;p&gt;If it was me, I would probably try to fetch the timezone using clientside JavaScript and then submit it to the server using Ajax or something.&lt;/p&gt;&#xA;" OwnerUserId="19" LastActivityDate="2008-08-01T12:19:17.417" CommentCount="4" />
</posts>
